method,algorithm,number_od,count_rows,max_centrality,time,query,analyze
naive,pgr_dijkstra(),200,28983,5238,34613.245,"SELECT       b.id,      b.the_geom,      count(the_geom) as centrality FROM         pgr_dijkstra(              'SELECT   id                              id,                              source,                              target,                              cost                FROM                              porto_alegre_net_largest',                              ARRAY(SELECT net_id AS start_id FROM weight_sampling_200_origin) ,                             ARRAY(SELECT net_id AS end_id FROM weight_sampling_200_origin ),                              directed := TRUE) j      LEFT JOIN porto_alegre_net_largest AS b                   ON j.edge = b.id      GROUP BY                b.id,                b.the_geom   ORDER BY               centrality DESC; ","Sort  (cost=3169.08..3171.58 rows=1000 width=64) (actual time=34499.671..34505.139 rows=28983 loops=1)   Sort Key: (count(b.the_geom)) DESC   Sort Method: quicksort  Memory: 3259kB   InitPlan 1 (returns $0)     ->  Seq Scan on sampling_weight_200_origin  (cost=0.00..4.00 rows=200 width=8) (actual time=0.102..0.201 rows=200 loops=1)   InitPlan 2 (returns $1)     ->  Seq Scan on sampling_weight_200_destination  (cost=0.00..4.00 rows=200 width=8) (actual time=0.022..0.125 rows=200 loops=1)   ->  HashAggregate  (cost=3101.25..3111.25 rows=1000 width=64) (actual time=34483.930..34492.477 rows=28983 loops=1)         Group Key: b.ogc_fid, b.the_geom         Batches: 1  Memory Usage: 6673kB         ->  Nested Loop Left Join  (cost=0.67..3093.75 rows=1000 width=56) (actual time=12543.026..30546.777 rows=7071064 loops=1)               ->  Function Scan on pgr_dijkstra j  (cost=0.25..10.25 rows=1000 width=8) (actual time=12542.991..13541.139 rows=7071064 loops=1)               ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..3.07 rows=1 width=56) (actual time=0.002..0.002 rows=1 loops=7071064)                     Index Cond: (ogc_fid = j.edge) Planning Time: 0.585 ms Execution Time: 34613.245 ms"
naive,pgr_dijkstra(),300,32000,10519,75505.388,"SELECT       b.id,      b.the_geom,      count(the_geom) as centrality FROM         pgr_dijkstra(              'SELECT   id                              id,                              source,                              target,                              cost                FROM                              porto_alegre_net_largest',                              ARRAY(SELECT net_id AS start_id FROM weight_sampling_100_origin) ,                             ARRAY(SELECT net_id AS end_id FROM weight_sampling_100_origin ),                              directed := TRUE) j      LEFT JOIN porto_alegre_net_largest AS b                   ON j.edge = b.id      GROUP BY                b.id,                b.the_geom   ORDER BY               centrality DESC; ","Sort  (cost=3173.08..3175.58 rows=1000 width=64) (actual time=75239.661..75244.805 rows=32000 loops=1)   Sort Key: (count(b.the_geom)) DESC   Sort Method: quicksort  Memory: 3518kB   InitPlan 1 (returns $0)     ->  Seq Scan on sampling_weight_300_origin  (cost=0.00..6.00 rows=300 width=8) (actual time=0.012..0.053 rows=300 loops=1)   InitPlan 2 (returns $1)     ->  Seq Scan on sampling_weight_300_destination  (cost=0.00..6.00 rows=300 width=8) (actual time=0.007..0.047 rows=300 loops=1)   ->  HashAggregate  (cost=3101.25..3111.25 rows=1000 width=64) (actual time=75223.073..75232.395 rows=32000 loops=1)         Group Key: b.ogc_fid, b.the_geom         Batches: 1  Memory Usage: 6673kB         ->  Nested Loop Left Join  (cost=0.67..3093.75 rows=1000 width=56) (actual time=24895.475..66373.230 rows=15922899 loops=1)               ->  Function Scan on pgr_dijkstra j  (cost=0.25..10.25 rows=1000 width=8) (actual time=24894.983..27429.005 rows=15922899 loops=1)               ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..3.07 rows=1 width=56) (actual time=0.002..0.002 rows=1 loops=15922899)                     Index Cond: (ogc_fid = j.edge) Planning Time: 0.639 ms Execution Time: 75505.388 ms"
array_agg,pgr_dijkstra(),100,5303,1152,14119.302,"WITH pgr_result AS (   SELECT pgr_dijkstra('SELECT id,              source,             target,             cost FROM porto_alegre_net_largest',     array_agg(o_id), array_agg(d_id),      directed := true   ) FROM array_100  )  SELECT   b.id,  b.the_geom,  count(the_geom) as centrality  FROM pgr_result LEFT JOIN porto_alegre_net_largest AS b ON (pgr_dijkstra).edge = b.id GROUP BY      the_geom, b.id ORDER BY      centrality DESC;","Sort  (cost=3400.10..3402.60 rows=1000 width=64) (actual time=14063.341..14066.917 rows=21673 loops=1)   Sort Key: (count(b.the_geom)) DESC   Sort Method: quicksort  Memory: 2631kB   CTE pgr_result     ->  ProjectSet  (cost=224.00..229.27 rows=1000 width=32) (actual time=6812.618..8043.894 rows=1787766 loops=1)           ->  Aggregate  (cost=224.00..224.01 rows=1 width=64) (actual time=4.849..4.851 rows=1 loops=1)                 ->  Seq Scan on vertices_lookup_1000  (cost=0.00..174.00 rows=10000 width=16) (actual time=0.015..1.660 rows=10000 loops=1)   ->  HashAggregate  (cost=3111.00..3121.00 rows=1000 width=64) (actual time=14050.762..14057.897 rows=21673 loops=1)         Group Key: b.the_geom, b.ogc_fid         Batches: 1  Memory Usage: 4881kB         ->  Nested Loop Left Join  (cost=0.42..3103.50 rows=1000 width=56) (actual time=6812.688..13001.011 rows=1787766 loops=1)               ->  CTE Scan on pgr_result  (cost=0.00..20.00 rows=1000 width=32) (actual time=6812.622..8637.573 rows=1787766 loops=1)               ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..3.07 rows=1 width=56) (actual time=0.002..0.002 rows=1 loops=1787766)                     Index Cond: (ogc_fid = (pgr_result.pgr_dijkstra).edge) Planning Time: 0.591 ms Execution Time: 14119.302 ms"
array_agg,pgr_dijkstra(),300,32000,10519,423159.514,"WITH pgr_result AS (   SELECT pgr_dijkstra('SELECT id,              source,             target,             cost FROM porto_alegre_net_largest',     array_agg(o_id), array_agg(d_id),      directed := true   ) FROM array_300  )  SELECT   b.id,  b.the_geom,  count(the_geom) as centrality  FROM pgr_result LEFT JOIN porto_alegre_net_largest AS b ON (pgr_dijkstra).edge = b.id GROUP BY      the_geom, b.id ORDER BY      centrality DESC;","Sort  (cost=5188.10..5190.60 rows=1000 width=64) (actual time=422921.475..422927.188 rows=32000 loops=1)   Sort Key: (count(b.the_geom)) DESC   Sort Method: quicksort  Memory: 3518kB   CTE pgr_result     ->  ProjectSet  (cost=2012.01..2017.27 rows=1000 width=32) (actual time=354831.316..366828.692 rows=15922899 loops=1)           ->  Aggregate  (cost=2012.01..2012.02 rows=1 width=64) (actual time=26.448..26.450 rows=1 loops=1)                 ->  Seq Scan on vertices_lookup_3000  (cost=0.00..1562.00 rows=90000 width=16) (actual time=0.011..9.214 rows=90000 loops=1)   ->  HashAggregate  (cost=3111.00..3121.00 rows=1000 width=64) (actual time=422902.478..422913.399 rows=32000 loops=1)         Group Key: b.the_geom, b.ogc_fid         Batches: 1  Memory Usage: 6673kB         ->  Nested Loop Left Join  (cost=0.42..3103.50 rows=1000 width=56) (actual time=354831.941..413307.473 rows=15922899 loops=1)               ->  CTE Scan on pgr_result  (cost=0.00..20.00 rows=1000 width=32) (actual time=354831.319..372584.390 rows=15922899 loops=1)               ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..3.07 rows=1 width=56) (actual time=0.002..0.002 rows=1 loops=15922899)                     Index Cond: (ogc_fid = (pgr_result.pgr_dijkstra).edge) Planning Time: 0.473 ms Execution Time: 423159.514 ms"
st_bbox,pgr_dijkstra(),100,21751,1644,13944.047,"SELECT   b.id,  b.the_geom,  COUNT(b.the_geom) AS centrality FROM (SELECT * FROM pgr_dijkstra('SELECT           id,          source,          target,          cost         FROM porto_alegre_net_largest         WHERE the_geom && (SELECT box FROM bbox)',                   ARRAY(SELECT net_id AS start_id                    FROM weight_sampling_100_origin),                 ARRAY(SELECT net_id AS end_id FROM weight_sampling_100_destination),                directed := TRUE)) AS j               LEFT JOIN porto_alegre_net_largest AS b               ON j.edge = b.id              GROUP BY               b.id,              b.the_geom               ORDER BY               centrality DESC;","Sort  (cost=5853.41..5855.91 rows=1000 width=64) (actual time=13879.157..13881.921 rows=21751 loops=1)   Sort Key: (count(b.the_geom)) DESC   Sort Method: quicksort  Memory: 2978kB   InitPlan 1 (returns $0)     ->  Seq Scan on weight_sampling_100_origin  (cost=0.00..2.00 rows=100 width=8) (actual time=0.016..0.035 rows=100 loops=1)   InitPlan 2 (returns $1)     ->  Seq Scan on weight_sampling_100_destination  (cost=0.00..2.00 rows=100 width=8) (actual time=0.009..0.027 rows=100 loops=1)   ->  GroupAggregate  (cost=5779.58..5799.58 rows=1000 width=64) (actual time=12635.510..13871.369 rows=21751 loops=1)         Group Key: b.id, b.the_geom         ->  Sort  (cost=5779.58..5782.08 rows=1000 width=56) (actual time=12635.239..13241.978 rows=1715329 loops=1)               Sort Key: b.id, b.the_geom               Sort Method: external merge  Disk: 105256kB               ->  Nested Loop Left Join  (cost=0.67..5729.75 rows=1000 width=56) (actual time=5574.168..11329.659 rows=1715329 loops=1)                     ->  Function Scan on pgr_dijkstra  (cost=0.25..10.25 rows=1000 width=8) (actual time=5574.117..5967.621 rows=1715329 loops=1)                     ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..5.71 rows=1 width=56) (actual time=0.002..0.003 rows=1 loops=1715329)                           Index Cond: (id = pgr_dijkstra.edge) Planning Time: 0.369 ms Execution Time: 13944.047 ms"
naive,pgr_dijkstra(),100,21751,1644,14212.059,"SELECT   b.id,  b.the_geom,  count(the_geom) as centrality   FROM  pgr_dijkstra('SELECT  id,                              source,                             target,                             cost                       FROM porto_alegre_net_largest',                       ARRAY(SELECT net_id AS start_id FROM weight_sampling_100_origin  ),                       ARRAY(SELECT net_id AS end_id FROM weight_sampling_100_destination ),                       directed := TRUE) j                       left JOIN porto_alegre_net_largest AS b                       ON j.edge = b.id                       GROUP BY  b.id, b.the_geom                       ORDER BY centrality DESC; ","Sort  (cost=5853.41..5855.91 rows=1000 width=64) (actual time=14153.807..14156.225 rows=21751 loops=1)   Sort Key: (count(b.the_geom)) DESC   Sort Method: quicksort  Memory: 2978kB   InitPlan 1 (returns $0)     ->  Seq Scan on weight_sampling_100_origin  (cost=0.00..2.00 rows=100 width=8) (actual time=0.015..0.036 rows=100 loops=1)   InitPlan 2 (returns $1)     ->  Seq Scan on weight_sampling_100_destination  (cost=0.00..2.00 rows=100 width=8) (actual time=0.009..0.027 rows=100 loops=1)   ->  GroupAggregate  (cost=5779.58..5799.58 rows=1000 width=64) (actual time=12845.086..14146.026 rows=21751 loops=1)         Group Key: b.id, b.the_geom         ->  Sort  (cost=5779.58..5782.08 rows=1000 width=56) (actual time=12844.844..13481.742 rows=1715329 loops=1)               Sort Key: b.id, b.the_geom               Sort Method: external merge  Disk: 105256kB               ->  Nested Loop Left Join  (cost=0.67..5729.75 rows=1000 width=56) (actual time=5577.430..11504.201 rows=1715329 loops=1)                     ->  Function Scan on pgr_dijkstra j  (cost=0.25..10.25 rows=1000 width=8) (actual time=5577.380..5983.338 rows=1715329 loops=1)                     ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..5.71 rows=1 width=56) (actual time=0.002..0.003 rows=1 loops=1715329)                           Index Cond: (id = j.edge) Planning Time: 0.373 ms Execution Time: 14212.059 ms"
st_bbox,pgr_dijkstra(),200,28899,5252,64398.838,"SELECT   b.id,  b.the_geom,  COUNT(b.the_geom) AS centrality FROM (SELECT * FROM pgr_dijkstra('SELECT           id,          source,          target,          cost         FROM porto_alegre_net_largest         WHERE the_geom && (SELECT box FROM bbox)',                   ARRAY(SELECT net_id AS start_id                    FROM weight_sampling_100_origin),                 ARRAY(SELECT net_id AS end_id FROM weight_sampling_100_destination),                directed := TRUE)) AS j               LEFT JOIN porto_alegre_net_largest AS b               ON j.edge = b.id              GROUP BY               b.id,              b.the_geom               ORDER BY               centrality DESC;"," Sort  (cost=5857.41..5859.91 rows=1000 width=64) (actual time=63826.778..63830.453 rows=28899 loops=1)    Sort Key: (count(b.the_geom)) DESC    Sort Method: quicksort  Memory: 3704kB    InitPlan 1 (returns $0)      ->  Limit  (cost=0.00..4.00 rows=200 width=8) (actual time=0.027..0.083 rows=200 loops=1)            ->  Seq Scan on weight_sampling_1000_origin  (cost=0.00..20.00 rows=1000 width=8) (actual time=0.026..0.059 rows=200 loops=1)    InitPlan 2 (returns $1)      ->  Limit  (cost=0.00..4.00 rows=200 width=8) (actual time=0.011..0.071 rows=200 loops=1)            ->  Seq Scan on weight_sampling_1000_destination  (cost=0.00..20.00 rows=1000 width=8) (actual time=0.011..0.041 rows=200 loops=1)    ->  GroupAggregate  (cost=5779.58..5799.58 rows=1000 width=64) (actual time=58275.084..63807.180 rows=28899 loops=1)          Group Key: b.id, b.the_geom          ->  Sort  (cost=5779.58..5782.08 rows=1000 width=56) (actual time=58273.950..61033.906 rows=7164864 loops=1)                Sort Key: b.id, b.the_geom                Sort Method: external merge  Disk: 439832kB                ->  Nested Loop Left Join  (cost=0.67..5729.75 rows=1000 width=56) (actual time=27044.588..52006.123 rows=7164864 loops=1)                      ->  Function Scan on pgr_dijkstra  (cost=0.25..10.25 rows=1000 width=8) (actual time=27041.142..28746.873 rows=7164864 loops=1)                      ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..5.71 rows=1 width=56) (actual time=0.002..0.003 rows=1 loops=7164864)                            Index Cond: (id = pgr_dijkstra.edge)  Planning Time: 44.085 ms  Execution Time: 64398.838 ms "
st_bbox,pgr_dijkstra(),300,33522,11816,136039.719,"SELECT   b.id,  b.the_geom,  COUNT(b.the_geom) AS centrality FROM (SELECT * FROM pgr_dijkstra('SELECT           id,          source,          target,          cost         FROM porto_alegre_net_largest         WHERE the_geom && (SELECT box FROM bbox)',                   ARRAY(SELECT net_id AS start_id                    FROM weight_sampling_100_origin),                 ARRAY(SELECT net_id AS end_id FROM weight_sampling_100_destination),                directed := TRUE)) AS j               LEFT JOIN porto_alegre_net_largest AS b               ON j.edge = b.id              GROUP BY               b.id,              b.the_geom               ORDER BY               centrality DESC;","Sort  (cost=5861.41..5863.91 rows=1000 width=64) (actual time=135694.339..135698.346 rows=33522 loops=1)    Sort Key: (count(b.the_geom)) DESC    Sort Method: quicksort  Memory: 4941kB    InitPlan 1 (returns $0)      ->  Limit  (cost=0.00..6.00 rows=300 width=8) (actual time=0.018..0.141 rows=300 loops=1)            ->  Seq Scan on weight_sampling_1000_origin  (cost=0.00..20.00 rows=1000 width=8) (actual time=0.017..0.099 rows=300 loops=1)    InitPlan 2 (returns $1)      ->  Limit  (cost=0.00..6.00 rows=300 width=8) (actual time=0.011..0.149 rows=300 loops=1)            ->  Seq Scan on weight_sampling_1000_destination  (cost=0.00..20.00 rows=1000 width=8) (actual time=0.011..0.089 rows=300 loops=1)    ->  GroupAggregate  (cost=5779.58..5799.58 rows=1000 width=64) (actual time=126249.948..135676.451 rows=33522 loops=1)          Group Key: b.id, b.the_geom          ->  Sort  (cost=5779.58..5782.08 rows=1000 width=56) (actual time=126249.771..129678.700 rows=15830824 loops=1)                Sort Key: b.id, b.the_geom                Sort Method: external merge  Disk: 971528kB                ->  Nested Loop Left Join  (cost=0.67..5729.75 rows=1000 width=56) (actual time=51602.523..107427.600 rows=15830824 loops=1)                      ->  Function Scan on pgr_dijkstra  (cost=0.25..10.25 rows=1000 width=8) (actual time=51588.317..55402.349 rows=15830824 loops=1)                      ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..5.71 rows=1 width=56) (actual time=0.002..0.003 rows=1 loops=15830824)                            Index Cond: (id = pgr_dijkstra.edge)  Planning Time: 0.628 ms  Execution Time: 136039.719 ms "
array_agg,pgr_dijkstra(),200,28899,5242,79274.083,"WITH pgr_result AS (   SELECT pgr_dijkstra('SELECT id,              source,             target,             cost FROM porto_alegre_net_largest',     array_agg(o_id), array_agg(d_id),      directed := true   ) FROM array_200  )  SELECT   b.id,  b.the_geom,  count(the_geom) as centrality  FROM pgr_result LEFT JOIN porto_alegre_net_largest AS b ON (pgr_dijkstra).edge = b.id GROUP BY      the_geom, b.id ORDER BY      centrality DESC; "," Sort  (cost=6761.23..6763.73 rows=1000 width=64) (actual time=79059.388..79063.123 rows=28899 loops=1)    Sort Key: (count(b.the_geom)) DESC    Sort Method: quicksort  Memory: 3704kB    CTE pgr_result      ->  ProjectSet  (cost=896.81..902.07 rows=1000 width=32) (actual time=21592.976..30680.043 rows=7164864 loops=1)            ->  Aggregate  (cost=896.81..896.82 rows=1 width=64) (actual time=18.337..18.340 rows=1 loops=1)                  ->  Seq Scan on vertices_lookup_200  (cost=0.00..696.20 rows=40120 width=16) (actual time=0.025..6.971 rows=40000 loops=1)    ->  GroupAggregate  (cost=5789.33..5809.33 rows=1000 width=64) (actual time=71984.918..79045.788 rows=28899 loops=1)          Group Key: b.the_geom, b.id          ->  Sort  (cost=5789.33..5791.83 rows=1000 width=56) (actual time=71984.284..76384.564 rows=7164864 loops=1)                Sort Key: b.the_geom, b.id                Sort Method: external merge  Disk: 439832kB                ->  Nested Loop Left Join  (cost=0.42..5739.50 rows=1000 width=56) (actual time=21595.854..62964.164 rows=7164864 loops=1)                      ->  CTE Scan on pgr_result  (cost=0.00..20.00 rows=1000 width=32) (actual time=21592.990..34613.381 rows=7164864 loops=1)                      ->  Index Scan using idx_porto_alegre_net_largest_id on porto_alegre_net_largest b  (cost=0.42..5.71 rows=1 width=56) (actual time=0.003..0.003 rows=1 loops=7164864)                            Index Cond: (id = (pgr_result.pgr_dijkstra).edge)  Planning Time: 1.337 ms  Execution Time: 79274.083 ms (18 rows) "
